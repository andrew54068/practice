!function(){var e=!1,t=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(i){function a(){!e&&this.init&&this.init.apply(this,arguments)}var n,s,o=this.prototype;e=!0,s=new this,e=!1;for(n in i)s[n]="function"==typeof i[n]&&"function"==typeof o[n]&&t.test(i[n])?function(e,t){return function(){var i,a=this._super;return this._super=o[e],i=t.apply(this,arguments),this._super=a,i}}(n,i[n]):i[n];return a.prototype=s,a.constructor=a,a.extend=arguments.callee,a}}(),function(e,t,i){function a(e){return e=e||location.href,"#"+e.replace(/^[^#]*#?(.*)$/,"$1")}var n,s="hashchange",o=document,r=e.event.special,l=o.documentMode,d="on"+s in t&&(l===i||l>7);e.fn[s]=function(e){return e?this.bind(s,e):this.trigger(s)},e.fn[s].delay=50,r[s]=e.extend(r[s],{setup:function(){return d?!1:void e(n.start)},teardown:function(){return d?!1:void e(n.stop)}}),n=function(){function n(){var i=a(),o=p(c);i!==c?(u(c=i,o),e(t).trigger(s)):o!==c&&(location.href=location.href.replace(/#.*/,"")+o),r=setTimeout(n,e.fn[s].delay)}var r,l={},c=a(),h=function(e){return e},u=h,p=h;return l.start=function(){r||n()},l.stop=function(){r&&clearTimeout(r),r=i},e.browser.msie&&!d&&function(){var t,i;l.start=function(){t||(i=e.fn[s].src,i=i&&i+a(),t=e('<iframe tabindex="-1" title="empty"/>').hide().one("load",function(){i||u(a()),n()}).attr("src",i||"javascript:0").insertAfter("body")[0].contentWindow,o.onpropertychange=function(){try{"title"===event.propertyName&&(t.document.title=o.title)}catch(e){}})},l.stop=h,p=function(){return a(t.location.href)},u=function(i,a){var n=t.document,r=e.fn[s].domain;i!==a&&(n.title=o.title,n.open(),r&&n.write('<script>document.domain="'+r+'"</script>'),n.close(),t.location.hash=i)}}(),l}()}(jQuery,this),function(){function e(){var e=!1;if("sessionStorage"in window)try{window.sessionStorage.setItem("_tmptest","tmpval"),e=!0,window.sessionStorage.removeItem("_tmptest")}catch(t){}if(e)try{window.sessionStorage&&(v=window.sessionStorage,$="localStorage",y=v.jStorage_update)}catch(a){}else if("globalStorage"in window)try{window.globalStorage&&(v=window.globalStorage[window.location.hostname],$="globalStorage",y=v.jStorage_update)}catch(n){}else{if(b=document.createElement("link"),!b.addBehavior)return void(b=null);b.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(b),b.load("jStorage");var s="{}";try{s=b.getAttribute("jStorage")}catch(o){}try{y=b.getAttribute("jStorage_update")}catch(l){}v.jStorage=s,$="userDataBehavior"}r(),c(),i()}function t(){var e="{}";if("userDataBehavior"==$){b.load("jStorage");try{e=b.getAttribute("jStorage")}catch(t){}try{y=b.getAttribute("jStorage_update")}catch(i){}v.jStorage=e}r()}function i(){"localStorage"==$||"globalStorage"==$?"addEventListener"in window?window.addEventListener("storage",a,!1):document.attachEvent("onstorage",a):"userDataBehavior"==$&&setInterval(a,1e3)}function a(){var e;clearTimeout(C),C=setTimeout(function(){if("localStorage"==$||"globalStorage"==$)e=v.jStorage_update;else if("userDataBehavior"==$){b.load("jStorage");try{e=b.getAttribute("jStorage_update")}catch(t){}}e&&e!=y&&(y=e,n())},100)}function n(){var e,i=m.parse(m.stringify(g.__jstorage_meta.CRC32));t(),e=m.parse(m.stringify(g.__jstorage_meta.CRC32));var a,n=[],o=[];for(a in i)if(i.hasOwnProperty(a)){if(!e[a]){o.push(a);continue}i[a]!=e[a]&&n.push(a)}for(a in e)e.hasOwnProperty(a)&&(i[a]||n.push(a));s(n,"updated"),s(o,"deleted")}function s(e,t){if(e=[].concat(e||[]),"flushed"==t){e=[];for(var i in w)w.hasOwnProperty(i)&&e.push(i);t="deleted"}for(var a=0,n=e.length;n>a;a++)if(w[e[a]])for(var s=0,o=w[e[a]].length;o>s;s++)w[e[a]][s](e[a],t)}function o(){var e=(+new Date).toString();"localStorage"==$||"globalStorage"==$?v.jStorage_update=e:"userDataBehavior"==$&&(b.setAttribute("jStorage_update",e),b.save("jStorage")),a()}function r(){if(v.jStorage)try{g=m.parse(String(v.jStorage))}catch(e){v.jStorage="{}"}else v.jStorage="{}";D=v.jStorage?String(v.jStorage).length:0,g.__jstorage_meta||(g.__jstorage_meta={}),g.__jstorage_meta.CRC32||(g.__jstorage_meta.CRC32={})}function l(){try{v.jStorage=m.stringify(g),b&&(b.setAttribute("jStorage",v.jStorage),b.save("jStorage")),D=v.jStorage?String(v.jStorage).length:0}catch(e){}}function d(e){if(!e||"string"!=typeof e&&"number"!=typeof e)throw new TypeError("Key name must be string or numeric");if("__jstorage_meta"==e)throw new TypeError("Reserved key name");return!0}function c(){var e,t,i,a,n=1/0,r=!1,d=[];if(clearTimeout(f),g.__jstorage_meta&&"object"==typeof g.__jstorage_meta.TTL){e=+new Date,i=g.__jstorage_meta.TTL,a=g.__jstorage_meta.CRC32;for(t in i)i.hasOwnProperty(t)&&(i[t]<=e?(delete i[t],delete a[t],delete g[t],r=!0,d.push(t)):i[t]<n&&(n=i[t]));n!=1/0&&(f=setTimeout(c,n-e)),r&&(l(),o(),s(d,"deleted"))}}function h(e,t){t=t||0;var i=0,a=0;t=-1^t;for(var n=0,s=e.length;s>n;n++)i=255&(t^e.charCodeAt(n)),a="0x"+S.substr(9*i,8),t=t>>>8^a;return-1^t}var u="0.2.2",p=window.jQuery||window.$||(window.$={}),m={parse:window.JSON&&(window.JSON.parse||window.JSON.decode)||String.prototype.evalJSON&&function(e){return String(e).evalJSON()}||p.parseJSON||p.evalJSON,stringify:window.JSON&&(window.JSON.stringify||window.JSON.encode)||Object.toJSON||p.toJSON};if(!m.parse||!m.stringify)throw new Error("No JSON support found, include //cdnjs.cloudflare.com/ajax/libs/json2/20110223/json2.js to page");var f,g={},v={jStorage:"{}"},b=null,D=0,$=!1,w={},C=!1,y=0,S="00000000 77073096 EE0E612C 990951BA 076DC419 706AF48F E963A535 9E6495A3 0EDB8832 79DCB8A4 E0D5E91E 97D2D988 09B64C2B 7EB17CBD E7B82D07 90BF1D91 1DB71064 6AB020F2 F3B97148 84BE41DE 1ADAD47D 6DDDE4EB F4D4B551 83D385C7 136C9856 646BA8C0 FD62F97A 8A65C9EC 14015C4F 63066CD9 FA0F3D63 8D080DF5 3B6E20C8 4C69105E D56041E4 A2677172 3C03E4D1 4B04D447 D20D85FD A50AB56B 35B5A8FA 42B2986C DBBBC9D6 ACBCF940 32D86CE3 45DF5C75 DCD60DCF ABD13D59 26D930AC 51DE003A C8D75180 BFD06116 21B4F4B5 56B3C423 CFBA9599 B8BDA50F 2802B89E 5F058808 C60CD9B2 B10BE924 2F6F7C87 58684C11 C1611DAB B6662D3D 76DC4190 01DB7106 98D220BC EFD5102A 71B18589 06B6B51F 9FBFE4A5 E8B8D433 7807C9A2 0F00F934 9609A88E E10E9818 7F6A0DBB 086D3D2D 91646C97 E6635C01 6B6B51F4 1C6C6162 856530D8 F262004E 6C0695ED 1B01A57B 8208F4C1 F50FC457 65B0D9C6 12B7E950 8BBEB8EA FCB9887C 62DD1DDF 15DA2D49 8CD37CF3 FBD44C65 4DB26158 3AB551CE A3BC0074 D4BB30E2 4ADFA541 3DD895D7 A4D1C46D D3D6F4FB 4369E96A 346ED9FC AD678846 DA60B8D0 44042D73 33031DE5 AA0A4C5F DD0D7CC9 5005713C 270241AA BE0B1010 C90C2086 5768B525 206F85B3 B966D409 CE61E49F 5EDEF90E 29D9C998 B0D09822 C7D7A8B4 59B33D17 2EB40D81 B7BD5C3B C0BA6CAD EDB88320 9ABFB3B6 03B6E20C 74B1D29A EAD54739 9DD277AF 04DB2615 73DC1683 E3630B12 94643B84 0D6D6A3E 7A6A5AA8 E40ECF0B 9309FF9D 0A00AE27 7D079EB1 F00F9344 8708A3D2 1E01F268 6906C2FE F762575D 806567CB 196C3671 6E6B06E7 FED41B76 89D32BE0 10DA7A5A 67DD4ACC F9B9DF6F 8EBEEFF9 17B7BE43 60B08ED5 D6D6A3E8 A1D1937E 38D8C2C4 4FDFF252 D1BB67F1 A6BC5767 3FB506DD 48B2364B D80D2BDA AF0A1B4C 36034AF6 41047A60 DF60EFC3 A867DF55 316E8EEF 4669BE79 CB61B38C BC66831A 256FD2A0 5268E236 CC0C7795 BB0B4703 220216B9 5505262F C5BA3BBE B2BD0B28 2BB45A92 5CB36A04 C2D7FFA7 B5D0CF31 2CD99E8B 5BDEAE1D 9B64C2B0 EC63F226 756AA39C 026D930A 9C0906A9 EB0E363F 72076785 05005713 95BF4A82 E2B87A14 7BB12BAE 0CB61B38 92D28E9B E5D5BE0D 7CDCEFB7 0BDBDF21 86D3D2D4 F1D4E242 68DDB3F8 1FDA836E 81BE16CD F6B9265B 6FB077E1 18B74777 88085AE6 FF0F6A70 66063BCA 11010B5C 8F659EFF F862AE69 616BFFD3 166CCF45 A00AE278 D70DD2EE 4E048354 3903B3C2 A7672661 D06016F7 4969474D 3E6E77DB AED16A4A D9D65ADC 40DF0B66 37D83BF0 A9BCAE53 DEBB9EC5 47B2CF7F 30B5FFE9 BDBDF21C CABAC28A 53B39330 24B4A3A6 BAD03605 CDD70693 54DE5729 23D967BF B3667A2E C4614AB8 5D681B02 2A6F2B94 B40BBE37 C30C8EA1 5A05DF1B 2D02EF8D",x={isXML:function(e){var t=(e?e.ownerDocument||e:0).documentElement;return t?"HTML"!==t.nodeName:!1},encode:function(e){if(!this.isXML(e))return!1;try{return(new XMLSerializer).serializeToString(e)}catch(t){try{return e.xml}catch(i){}}return!1},decode:function(e){var t,i="DOMParser"in window&&(new DOMParser).parseFromString||window.ActiveXObject&&function(e){var t=new ActiveXObject("Microsoft.XMLDOM");return t.async="false",t.loadXML(e),t};return i?(t=i.call("DOMParser"in window&&new DOMParser||window,e,"text/xml"),this.isXML(t)?t:!1):!1}};p.jStorage={version:u,set:function(e,t,i){if(d(e),i=i||{},"undefined"==typeof t)return this.deleteKey(e),t;if(x.isXML(t))t={_is_xml:!0,xml:x.encode(t)};else{if("function"==typeof t)return;t&&"object"==typeof t&&(t=m.parse(m.stringify(t)))}return g[e]=t,g.__jstorage_meta.CRC32[e]=h(m.stringify(t)),this.setTTL(e,i.TTL||0),o(),s(e,"updated"),t},get:function(e,t){return d(e),e in g?g[e]&&"object"==typeof g[e]&&g[e]._is_xml&&g[e]._is_xml?x.decode(g[e].xml):g[e]:"undefined"==typeof t?null:t},deleteKey:function(e){return d(e),e in g?(delete g[e],"object"==typeof g.__jstorage_meta.TTL&&e in g.__jstorage_meta.TTL&&delete g.__jstorage_meta.TTL[e],delete g.__jstorage_meta.CRC32[e],l(),o(),s(e,"deleted"),!0):!1},setTTL:function(e,t){var i=+new Date;return d(e),t=Number(t)||0,e in g?(g.__jstorage_meta.TTL||(g.__jstorage_meta.TTL={}),t>0?g.__jstorage_meta.TTL[e]=i+t:delete g.__jstorage_meta.TTL[e],l(),c(),!0):!1},getTTL:function(e){var t,i=+new Date;return d(e),e in g&&g.__jstorage_meta.TTL&&g.__jstorage_meta.TTL[e]?(t=g.__jstorage_meta.TTL[e]-i,t||0):0},flush:function(){return g={__jstorage_meta:{CRC32:{}}},l(),o(),s(null,"flushed"),!0},storageObj:function(){function e(){}return e.prototype=g,new e},index:function(){var e,t=[];for(e in g)g.hasOwnProperty(e)&&"__jstorage_meta"!=e&&t.push(e);return t},storageSize:function(){return D},currentBackend:function(){return $},storageAvailable:function(){return!!$},listenKeyChange:function(e,t){d(e),w[e]||(w[e]=[]),w[e].push(t)},stopListening:function(e,t){if(d(e),w[e]){if(!t)return void delete w[e];for(var i=w[e].length-1;i>=0;i--)w[e][i]==t&&w[e].splice(i,1)}},reInit:function(){var e,t;if("userDataBehavior"==$){e=document.createElement("link"),b.parentNode.replaceChild(e,b),b=e,b.style.behavior="url(#default#userData)",document.getElementsByTagName("head")[0].appendChild(b),b.load("jStorage"),t="{}";try{t=b.getAttribute("jStorage")}catch(i){}v.jStorage=t,$="userDataBehavior"}r()}},e()}(),window.navigationStorageObject=Class.extend({trackStates:function(e){menu.getCurrentMenuItems().length>0?this.save():this.read(),e&&this.expand()},save:function(){var e,t=this.getNameByURL(location.pathname);t&&(e={expanded:!0,filters:nav.getURLParams(),url:location.pathname+location.search},$.jStorage.set(t,e,nav.config.navStorageExpiration),menu.selectMenuItemVisuallyByURL(e.url))},read:function(){var e,t=this.getNameByURL(menu.getSelectedURL());t&&(e=$.jStorage.get(t)||{},e.filters&&e.url&&menu.selectMenuItemVisuallyByURL(e.url))},expand:function(){$($.jStorage.index()).each(function(e,t){var i;t&&(i=$.jStorage.get(t),i.expanded&&i.url&&menu.expandMenuByURL(i.url))})},saveExpanded:function(e){var t,i=this.getNameByURL(menu.getFirstURLInMenu(e));i&&(t=$.jStorage.get(i)||{},t.expanded=e.hasClass("selected"),t.url=t.url||url,$.jStorage.set(i,t))},getCurrentFilters:function(){var e,t=this.getNameByURL(location.pathname);return t&&(e=$.jStorage.get(t)),e?e.filters||!1:!1},getCurrentFilter:function(e){var t=this.getCurrentFilters();return t[e]||!1},readVariable:function(e){return e?$.jStorage.get(e)||!1:!1},saveVariable:function(e,t,i){var a=i?{TTL:i}:{};$.jStorage.set(e,t,a)},getNameByURL:function(e){var t;return e?(t=e.split("/"),t.shift(),t.shift(),t.pop(),t.join("_")):""}}),window.navObject=Class.extend({config:{animationDuration:300,formStorageExpiration:18e6,formLoadingOpacity:.25,loadingOpacity:0,navStorageExpiration:!1,pollingInterval:8e3,popupWidth:480,actionPrefixes:["Complete","Complete","Configure","Confirm","Create","CreateDistribution","CreatePush","CreatePass","Download","Edit","Generate","ImportUpload","Landing","PendingApproval","Processing","Remove","Request","Reset","Revoke","RevokeConfirmation","Association"]},animateTransitions:history.pushState,contentReference:".innercontent",currentURL:!1,isAnimating:!1,isInitialized:!1,isInitialLoad:!0,pageAnimationDuration:500,sidebarAnimationDuration:0,sidebarPadding1:28,sidebarPadding2:33,usePushState:history.pushState,useRetina:!0,clickTimeout:null,lastAction:null,initialize:function(){this.isInitialized||(this.initializeAjax(),menu.initializeNav(),this.initializePage(),menu.selectMenuItemByPage(!1,!1,!0,!0),this.resetSidebarMinHeight())},initializeAjax:function(){this.isSlowBrowser=navigator.userAgent.indexOf("MSIE")>-1||navigator.userAgent.indexOf("Mobile")>-1,this.showLoadingState(),this.isInitialized=!0,this.usePushState?($(window).bind("popstate",$.proxy(this.pagechange,this)),navigator.userAgent.indexOf("Firefox")>-1&&this.pagechange()):($(window).hashchange($.proxy(this.hashchange,this)),this.hashchange())},initializePage:function(){this.setWaitFlag($(this.contentReference)),this.initializePageController(),$(".navLink").click($.proxy(this.onCustomLinkClicked,this)),grid||(this.resizeSections(),this.waitForAdditionalData||this.hideLoadingState())},initializePageController:function(e){var t,i=$(this.contentReference).find("> div").first().attr("data-controller");i&&window[i]&&(t=new window[i](e),i.indexOf("GridObject")>-1?grid=t:i.indexOf("FormObject")>-1&&(form=t))},setWaitFlag:function(e){var t=e.find("> div").first().attr("data-waitForAdditionalData");this.waitForAdditionalData=void 0!==t?t:this.waitForAdditionalData},showError:function(e,t,i,a){var n,a=a&&a!==t?a:"An error occurred.";return e&&0==e.status?(location.href=location.href,!1):(t=t&&"error"!=t&&"object"!=typeof t?t.replace(/\\n/g,"<br/>"):$(".errorGenericMessage").html(),n=this.popup(this.config.popupWidth,a,t,"OK"),i&&n.find(".ok").click(i),void this.animateContentIn())},hideError:function(){this.errorDiv&&this.errorDiv.dialog("close")},showLoadingState:function(e){var t,i,a,n=$(".loadingMessage"),s=$(".innercontent > div");return s&&0!=s.length?(this.hideLoadingState(),this.isSlowBrowser&&$("<div>").addClass("loadingBlocker").height($(document).height()).appendTo("body"),t=Math.round(s.offset().left+s.width()/2-n.width()/2),a=$(window).height()>$("body").height()?$("body").height():$(window).height(),i=Math.round((a-n.height())/2),void(e?(n.css({left:t}).show(),n.animate({top:i},this.animationDuration)):n.css({left:t,top:i}).show())):this.showError()},hideLoadingState:function(){$(".ui-jqgrid-hbox").show(),$(".loadingMessage").hide(),$(".loadingBlocker").remove()},animateContentOut:function(e){var t=$(this.contentReference);this.animateTransitions&&1==t.css("opacity")&&(e?($(".content").addClass("opaque"),t.css({opacity:this.config.formLoadingOpacity})):($(".content").removeClass("opaque"),t.css({opacity:this.config.loadingOpacity})))},animateContentIn:function(){$(".content").removeClass("opaque"),this.animateTransitions?$(this.contentReference).animate({opacity:1},this.pageAnimationDuration,$.proxy(function(){grid||this.hideLoadingState(),this.isAnimating=!1},this)):this.hideLoadingState()},resizeSections:function(e,t){var i=$(this.contentReference+" > div"),a=i.height()+parseInt((i.css("padding-bottom")||"0").replace("px",""))+parseInt((i.css("padding-top")||"0").replace("px",""))-this.sidebarPadding1;this.resetSidebarMinHeight(),e?($(".sidebar").height(a),t&&this.showLoadingState(!0)):$(".sidebar").animate({height:a},this.sidebarAnimationDuration,$.proxy(function(){t&&this.showLoadingState(!0)},this)),grid&&grid.settings.fullWidth&&this.resizeGrid()},resizeGrid:function(){var e,t=this.sidebarPadding2;e=$(".content").width()-($(".sidebar").width()+t),grid.setWidth(e)},getPage:function(e,t,i){return e||(e=!this.usePushState&&location.hash.replace("#","")?location.hash.replace("#",""):window.location.pathname),e},getFormURL:function(){var e=this.getURLParams();return e.formID?navStorage.readVariable("form"+e.formID):!1},pagechange:function(){var e=this.getFormURL(),t=window.location.pathname+window.location.search;!this.isInitialLoad&&e?this.changePage(e,!1,!0):this.isInitialLoad?this.isInitialLoad&&e&&e!=t&&($(".innercontent").stop(),this.changePage(e,!1,!0)):this.changePage(t),this.isInitialLoad=!1},hashchange:function(){var e=location.hash.replace("#","");e?this.changePage(e):this.isInitialLoad||this.changePage(window.location.pathname+window.location.search),this.isInitialLoad=!1},pushState:function(e){this.usePushState&&history.pushState({},"",e)},changePageURL:function(e,t){return this.clickTimeout&&(new Date).getTime()-this.clickTimeout.getTime()<2e3&&e==this.lastAction?!1:(this.clickTimeout=new Date,this.lastAction=e,this.usePushState?(this.pushState(e),this.changePage(e,t)):location.hash=e,!1)},changePage:function(e,t,i,a,n){window.scrollTo(0,0),this.currentURL=e,this.animateTransitions&&(this.isAnimating=!0),this.hideError(),this.showLoadingState(),e&&-1==e.indexOf("overview.action")&&menu.selectMenuItemByPage(e,!1,!0),nav.animateContentIn(),window.globalLink.handleClick(n),$("#gbox_grid-table").length>0&&($("#gbox_grid-table").replaceWith('<table id="grid-table"></table>'),window.grid.element.jqGrid().trigger("reloadGrid"))},getCleanParamString:function(e){return $.param(e).replace(/%5B%5D/g,"")},onPageLoaded:function(e,t,i){var a=this.getFormURL(),n=this.getURLParams(),s=n.formResume?n.formResume:!1;return a&&s&&i!=a&&(this.usePushState?this.pagechange():this.hashchange()),i&&this.currentURL&&i!=this.currentURL?!1:(e.indexOf('data-hideSideNav="true"')<=-1?($(this.contentReference).html('<div class="filler"></div>'),$(".sidebar").show()):($(this.contentReference).html('<div class="fillerFull"></div>'),$(".sidebar").hide()),this.showLoadingState(),this.setNewPageContent(e),this.resizeSections(!0),this.animateContentOut(),document.title=e.substring(e.indexOf("<title>")+7,e.indexOf("</title>")),this.waitForAdditionalData||this.animateContentIn(),"error"!=t&&e?(this.initializePage(),void this.prepareRetina()):this.showError())},setNewPageContent:function(e){var t=$("<div>").html(this.removeHeaderComponents(e)).find(this.contentReference);t&&t.length>0&&(this.setWaitFlag(t),$(this.contentReference).replaceWith(t))},removeHeaderComponents:function(e){var t=e.indexOf("<!-- begin page-specific scripts -->");return t>-1&&(e=e.substring(0,e.indexOf("<head>")+6)+e.substring(t+36)),e},onCustomLinkClicked:function(e){if($(e.target).is(".disabled"))return!1;var t=$(e.target).closest("[href]").attr("href");return this.changePageURL(t),!1},popup:function(){},getURLParams:function(e){var t,i={};return e=e||location.href,t=e.indexOf("?"),t>-1&&$(e.slice(t+1).split("&")).each(function(){currentVar=this.split("="),currentKey=currentVar[0],currentVal=decodeURIComponent(currentVar[1].replace(/\+/g," ")),currentKey in i?($.isArray(i[currentKey])||(i[currentKey]=[i[currentKey]]),i[currentKey].push(currentVal)):i[currentKey]=currentVal}),i},getURLParam:function(e,t){var i=this.getURLParams(t);return i[e]||!1},appendFiltersToURL:function(e){var t,i=navStorage.getCurrentFilters(),a=this.getURLParams(e);for(t in i)""==a[t]||a[t]||(e+=e.indexOf("?")>-1?"&":"?",e+=t+"="+i[t]);return e},prepareRetina:function(){this.useRetina&&(this.retina||(this.retina=new window.AC.Retina),this.retina.replace(document.body))},resetSidebarMinHeight:function(){var e=$(".sidebar"),t=$(this.contentReference+" > div");t.height()+parseInt((t.css("padding-bottom")||"0").replace("px",""))+parseInt((t.css("padding-top")||"0").replace("px",""))-this.sidebarPadding1;if(0!==e.length){$(".sidebar").css("min-height","");var i=$(".sidebar").css("min-height").slice(0,3),a=Math.max($(".sidebar-inner").height(),i,$(".innercontent").height());$(".sidebar").css("min-height",a+"px")}}}),window.menuObject=Class.extend({animationDuration:200,selectAnimationDuration:100,initializeNav:function(){$(".topbar .topbar-select").click($.proxy(this.toggleSelectAccount,this)),$(".sidebar .sidebar-select").click($.proxy(this.toggleSelectNav,this)),$(".sidebar .select-dropdown li a").click($.proxy(this.changeSelectNav,this)),$(".sidebar > ul > li").click($.proxy(this.setupPrimaryNav,this)),$(".sidebar > ul > li .item-arrow").click($.proxy(this.clickArrow,this)),$(".sidebar ul ul li").click($.proxy(this.setupSubNav,this)),$("body").mouseup($.proxy(this.mouseReleased,this)),$(".portal-button, .toolbar-button").mousedown(function(){$(this).addClass("click")})},mouseReleased:function(e){$(".portal-button, .toolbar-button").removeClass("click"),0==$(e.target).closest(".portal-select.active").length&&("sidebar-select"==$(".portal-select.active").attr("id")?menu.toggleSelectNav():"topbar-select"==$(".portal-select.active").attr("id")&&menu.toggleSelectAccount())},setupPrimaryNav:function(e){var t;return t=$(e.target).closest("li"),t.addClass("selected").find("ul").slideDown(this.animationDuration),!1},setupSubNav:function(e){var t=$(e.target).closest("li").find("a");return menu.selectMenuItemVisually(t),!1},clickArrow:function(e){var t=$(e.target).closest("li").toggleClass("selected").find("ul").slideToggle(this.animationDuration).end();return navStorage.saveExpanded(t),!1},toggleSelectNav:function(){return $(".sidebar .select-dropdown").slideToggle(this.selectAnimationDuration),$(".sidebar .sidebar-select").toggleClass("active"),!1},changeSelectNav:function(e){var t;t=e?$(e.target).closest("a"):$(".subitem.selected>a");var i,a=t.parent().attr("class");return"-nav"==a.substring(a.length-4)?(menu.selectNavItem(t),visible=$("ul.nav:visible"),i=$("#"+a),visible.length>0?visible.slideUp(this.animationDuration,$.proxy(function(){i.slideDown(this.animationDuration),menu.selectMenuItemByPage(void 0,!1,!0)},this)):(i.slideDown(this.animationDuration),menu.selectMenuItemByPage(void 0,!1,!0)),!1):!1},selectNavItem:function(e){$(".sidebar .section-title").html(e.find("span").html()),$(".sidebar .section-icon").removeClass().addClass("section-icon "+e.attr("href")),$(".sidebar .select-dropdown li").removeClass("current"),e.parent().addClass("current")},toggleSelectAccount:function(e){return $(".topbar .tooltip").toggle(),$(".topbar .topbar-select").toggleClass("active"),!1},selectMenuItem:function(e){var t=e.closest("ul.nav").show();$(".sidebar ul.nav:not(#"+t.attr("id")+")").hide(),this.selectNavItem($('.sidebar .select-dropdown a[href^="/account/'+location.pathname.split("/").filter(function(e){return""!==e})[1]+'"]')),this.selectMenuItemVisually(e)},selectMenuItemVisually:function(e){$(".sidebar ul ul li").removeClass("selected"),e.parent().addClass("selected").closest(".item").addClass("selected").find("ul").slideDown(this.animationDuration,nav.updateAjaxDataSections)},selectMenuItemByPage:function(e,t,i,a){var n;e=e||"/"+location.pathname.split("/").filter(function(e){return""!==e}).join("/")+"/",n=this.getMenuItemByURL(nav.getPage(e,t,i)),n.length>0&&(this.selectMenuItem(n),navStorage.trackStates(a))},selectMenuSection:function(e,t){this.selectNavItem($(".sidebar .select-dropdown li."+e+"-nav a")),$("ul.nav:visible").hide(),$("#"+e+"-nav").show(),$("ul.nav:visible li."+t).addClass("selected").find("ul").show()},generateSidebar:function(e){$(e).each(function(){var e,t;e=$(".sidebar .select-dropdown").after($('<ul class="nav" id="'+this.id+'">')).next("ul").prepend('<div class="horizontal-divider">'),$(this.links).each(function(){var i=$('<li class="item">').html('<a><div class="item-icon"></div><div class="title">'+this.title+'</div><div class="item-arrow"></div></a>');this.title||i.hide(),e.append(i),t=i.append('<ul style="display: none;">').find("ul"),$(this.links).each(function(){t.append($('<li class="subitem">').html('<a href="'+this.link+'"><div class="subitem-icon"></div><div class="title">'+this.title+"</div></a>"))})})})},getSelectedURL:function(){return $(".sidebar ul ul li.selected a").attr("href")},getFirstURLInMenu:function(e){return e.find("ul :first a").attr("href")},getCurrentMenuItems:function(){return this.getMenuItemByURL(location.pathname+location.search)},selectMenuItemVisuallyByURL:function(e){this.selectMenuItemVisually(this.getMenuItemByURL(e))},expandMenuByURL:function(e){return $('.subitem a[href$="'+e+'"]').first()},getMenuItemByURL:function(e){return $('.subitem a[href$="'+e+'"]').first()},getLinkByPageInSection:function(e){var t=this.getSelectedURL().split("/").pop();return e.find('ul a[href*="'+t+'"]').attr("href")||e.find('ul a[href*="'+t.split("?").shift()+'"]').first().attr("href")||e.find('ul a[href*="'+this.getSelectedURL().split("/")[3]+'"]').first().attr("href")||e.find("ul a:first").attr("href")}}),window.gridObject=Class.extend({data:!1,element:!1,enabled:!0,loaded:!1,searchThrottleDuration:350,searchThrottleDurationSlow:500,selectedItems:!1,settings:!1,initialize:function(e){this.id=Math.random(),this.settings={datatype:"json",mtype:"POST",jsonReader:{repeatitems:!1,page:"pageNumber",total:function(e){return Math.ceil(e.totalRecords/e.pageSize)},records:"totalRecords"},prmNames:{rows:"pageSize",page:"pageNumber",search:"search",order:"sort"},search:"",sortorder:"",sort:"",pager:"#paging",rowNum:500,height:750,npage:1,width:50,forceFit:!0,multiselect:!0,cellLayout:14,altRows:!0,scroll:!0,loadonce:!1,hoverrows:!0,viewrecords:!0,recordpos:"left",disabled:!1,fullWidth:!0,allowSelections:!0,preserveSelections:!0,sortURLParam:!1,serializeGridData:$.proxy(this.serializeGridData,this),beforeProcessing:$.proxy(this.beforeProcessing,this),resizeStop:$.proxy(this.onResizeStop,this),onSelectRow:$.proxy(this.onSelectRow,this),beforeSelectRow:$.proxy(this.beforeSelectRow,this),onSelectAll:$.proxy(this.onSelectAll,this),gridComplete:$.proxy(this.onGridUpdated,this),loadError:$.proxy(this.onLoadError,this),onCellSelect:$.proxy(this.onCellSelect,this),ondblClickRow:$.proxy(this.ondblClickRow,this),onPaging:$.proxy(this.onPaging,this),onSortCol:$.proxy(this.onSortCol,this)},$.extend(this.settings,e),this.settings.gridHeight&&(this.settings.height=this.settings.gridHeight),this.settings.jsonReader.root=this.settings.dataArrayField,this.settings.colNames=this.getColumnTitles(),this.setDefaultSort(),this.element=$(e.gridSection),this.initializeEvents(),this.selectedItems=[],nav&&(nav.showLoadingState(),this.settings.url=nav.appendFiltersToURL(this.settings.url)),this.element.jqGrid(this.settings)},initializeEvents:function(){this.element.bind("onGridUpdated",$.proxy(this.onGridUpdated,this)),this.element.bind("onResizeStop",$.proxy(this.onResizeStop,this)),this.element.bind("onSelectAll",$.proxy(this.onSelectAll,this)),this.element.bind("onSelectRow",$.proxy(this.onSelectRow,this)),this.element.bind("beforeSelectRow",$.proxy(this.beforeSelectRow,this)),this.element.bind("onSortCol",$.proxy(this.onSortCol,this)),this.element.bind("onGridInitiallyRendered",$.proxy(this.onGridInitiallyRendered,this)),nav.resizeSections&&this.element.bind("onGridInitiallyRendered",$.proxy(nav.resizeSections,nav)),nav.showError&&this.element.bind("onError",$.proxy(nav.showError,nav))},serializeGridData:function(e){return e},beforeProcessing:function(e,t,i){return navStorage.saveVariable("csrf",i.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",i.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration),0!=e.resultCode?(this.element.trigger("onError",[e.userString,void 0,e.resultString]),!1):(this.settings.total=e.totalRecords,Array.isArray(this.data)?(this.settings.dataArrayField?this.data.push.apply(this.data,e[this.settings.dataArrayField]):this.data.push.apply(this.data,e),void this.data.forEach(function(e,t){e.id=t+1})):(this.settings.dataArrayField?this.data=e[this.settings.dataArrayField]:this.data=e,this.data.forEach(function(e,t){e.id=t+1}),$(document).navGrid(this.settings.pager,{edit:!1,add:!1,del:!1}),void this.element.trigger("onGridInitiallyRendered")))},onGridInitiallyRendered:function(){this.settings.allowSelections||this.element.jqGrid().hideCol("cb")},onSelectRow:function(e,t){return this.enabled?void(this.settings.preserveSelections&&(t?this.addItem(e):this.removeItem(e),$(".action").toggleClass("disabled",this.selectedItems.length<=0))):(this.element.resetSelection(),!1)},beforeSelectRow:function(e,t){return this.settings.allowSelections},onSelectAll:function(e,t){return this.enabled?void(this.settings.preserveSelections&&(this.selectedItems=[],t&&(this.data.length=0,this.element.jqGrid("setGridParam",{rowNum:this.settings.total}).trigger("reloadGrid"),this.selectedAll=!0),$(".action").toggleClass("disabled",this.selectedItems.length<=0))):(this.element.resetSelection(),!1)},onGridUpdated:function(){this.defaultSelectedItems&&(this.selectItems(this.defaultSelectedItems),this.defaultSelectedItems=!1),this.loaded=!0,this.settings.preserveSelections&&(this.element.resetSelection(),$(this.selectedItems).each($.proxy(function(e,t){this.element.setSelection(t)},this))),this.selectedAll&&(this.selectedItems=[],$(this.data).each($.proxy(function(e,t){this.addItem(e+1),this.element.setSelection(e+1)},this)),$('input[type="checkbox"]')[0].checked=!0,this.selectedAll=!1),nav&&nav.hideLoadingState()},onResizeStop:function(){var e=this.element.jqGrid("getGridParam","colModel");$(e).each(function(e,t){t.widthOrg=t.width})},onSortCol:function(e,t,i){function a(){var t,i,a,n=n||"asc",s="",o="expirationDateString"===e?e.replace(/String/g,""):e,r=navStorage.readVariable("sortString"),l=r?r.indexOf(o+"%3D"):-1;return l>=0?("a"===r.substr(l+o.length+3,1)?(t="a",i="de"):(t="de",i="a"),a=new RegExp(o+"%3D"+t,"g"),s=r.replace(a,o+"%3D"+i),0!==l&&(s=s.substring(l,s.length)+encodeURIComponent("&")+s.substring(0,l-3))):s=encodeURIComponent(o+"="+n+"&")+r,navStorage.saveVariable("sortString",s,nav.config.formStorageExpiration),s}return this.data.length=0,this.element.jqGrid("setGridParam",{sortname:"sort",sortorder:a()}).trigger("reloadGrid"),"stop"},onSearch:function(e){this.throttle(function(){var t=e.target.value;(this.term&&t!=this.term||!this.term&&t)&&(nav&&nav.showLoadingState(),setTimeout($.proxy(function(){this.searchQuery(t)},this),1))},nav.isSlowBrowser?this.searchThrottleDurationSlow:this.searchThrottleDuration)()},allowSelections:function(){this.settings.allowSelections=!0,this.element.showCol("cb").trigger("reloadGrid"),nav.resizeGrid&&nav.resizeGrid()},disallowSelections:function(){this.settings.allowSelections=!1,this.selectItems([]),this.element.hideCol("cb").trigger("reloadGrid"),nav.resizeGrid&&nav.resizeGrid()},addItem:function(e){e=parseInt(e),$.inArray(e,this.selectedItems)<0&&this.selectedItems.push(e)},removeItem:function(e){e=parseInt(e),this.selectedItems.splice(this.selectedItems.indexOf(e),1)},setDefaultSelectedItems:function(e){this.loaded?this.selectItems(e):this.defaultSelectedItems=e},selectItems:function(e){this.selectedItems=[],this.element.resetSelection(),$(e).each($.proxy(function(e,t){$(this.data).each($.proxy(function(e,i){i[this.settings.dataIndexField]==t&&(this.addItem(e+1),this.element.setSelection(e+1))},this))},this))},getSelectedItems:function(){var e=[];return $(this.selectedItems).each($.proxy(function(t,i){e.push(this.getDataIDForRow(i))},this)),e.toString()},getDataIDForRow:function(e){return this.settings.dataIndexField?this.data[e-1][this.settings.dataIndexField]:e},getSelectedItemsObj:function(){var e=[];return $(this.selectedItems).each($.proxy(function(t,i){e.push(this.getDataItemForRow(i))},this)),e},getDataItemForRow:function(e){return this.data[e-1]},getColumnTitles:function(){var e=[];return $(this.settings.colModel).each($.proxy(function(t,i){e.push(i.title),i.classes||(this.settings.colModel[t].classes="ui-ellipsis")},this)),e},setWidth:function(e){this.element.setGridWidth(e)},setDefaultSort:function(){var e=encodeURIComponent(this.settings.sortname+"=asc");this.settings.sortorder=e,navStorage.saveVariable("sortString",e,nav.config.formStorageExpiration)},enable:function(){this.element&&(this.enabled=!0,this.element.css("opacity",1))},disable:function(){this.element&&(this.enabled=!1,this.selectedItems=[],this.loaded&&this.element.resetSelection(),$(".action").toggleClass("disabled",!0),
this.element.css("opacity",nav.config.loadingOpacity))},destroy:function(){this.element&&(this.element.stop().unbind(),this.element.GridDestroy())},filterData:function(e){var t,i,a,n,s;return this.term=e.toLowerCase(),t=[],$(this.data).each($.proxy(function(e,o){i=!1;for(a in o)o[a]&&(n=o[a],s="",$(this.settings.colModel).each(function(e,t){t.name==a&&(t.formatter&&(n=t.formatter(n)),s=n)}),s.toString().toLowerCase().indexOf(this.term)>-1&&(i=!0));i&&t.push(o)},this)),this.selectedItems=[],this.element.clearGridData(),this.element.addRowData("jqGridRowID",t),this.element.jqGrid().trigger("reloadGrid"),t.length},searchQuery:function(e){var t="";this.term=e.toLowerCase(),""!==e&&$(this.settings.colModel).each($.proxy(function(i,a){t+=(0!==i?"&":"")+a.name+"="+encodeURIComponent(e)},this)),this.element.clearGridData(),this.element.jqGrid("setGridParam",{search:encodeURIComponent(t)}).trigger("reloadGrid")},formatDate:function(e){var t,i,a,n,s;return e?(s=e.split("-"),s.length<3?e:(t={"01":"Jan","02":"Feb","03":"Mar","04":"Apr","05":"May","06":"June","07":"Jul","08":"Aug","09":"Sep",10:"Oct",11:"Nov",12:"Dec"},i=s[0],a=t[s[1]],n=s[2].substring(0,2),a+" "+n+", "+i)):""},throttle:function(e,t){var i=this,a=null;return function(){var n=arguments;clearTimeout(a),a=setTimeout(function(){e.apply(i,n)},t)}}}),window.grid=!1,window.formObject=Class.extend({animateTransitions:!0,changeURL:!1,curForm:!1,curPageName:!1,curURL:!1,element:!1,iframe:!1,response:!1,settings:!1,steps:!1,initialize:function(e){if(this.settings&&this.settings.preserveProgress&&this.element)return this.element.dialog("open"),!1;if(this.settings={autoOpen:!0,modal:!0,width:600,height:"auto",draggable:!1,resizable:!1,closeOnEscape:!1,show:"fade",hide:"explode",close:$.proxy(this.onClose,this),loadingState:'<div class="loading"><img src="/assets/developerportal/images/spinner.gif"><br/>Loading...</div>',preserveProgress:!1},$.extend(this.settings,e),this.steps||(this.steps={step1:{url:window.location.pathname+location.hash}}),this.settings.pageElement){this.element=$(this.settings.pageElement);for(step in this.steps)return this.steps[step].init?(this.curPageName=step,this.onPageLoaded(this.steps[step].init)):this.onPageLoaded()}else this.element=$("<div>").html(this.settings.loadingState),this.element.dialog(this.settings),this.refresh()},loadStep:function(e,t){t||(t=this.getInitByURL(e)),this.curURL=e,this.element.load(e,$.proxy(function(){this.onPageLoaded(t)},this))},getPageName:function(e){return this.getNextPage()},refresh:function(e){var t,i;e||(e=this.getPageName(this.response)),this.curPageName=e,e&&this.steps[e]&&this.steps[e].url?(t=this.steps[e].url,i=this.steps[e].init):(t=this.settings.url,i=!1),this.loadStep(t,i)},getNextPage:function(){var e=!1,t=this.curPageName;for(step in this.steps)(e||!t)&&(t=step,e=!1),step==this.curPageName&&(e=!0);return t},getPreviousPage:function(){var e,t=!1,i=this.curPageName;for(step in this.steps)step==this.curPageName&&(t=!0),t&&(i=e,t=!1),e=step;return i},getInitByURL:function(e){for(step in this.steps)if(this.steps[step].url==e)return this.curPageName=step,this.steps[step].init;return!1},animateContentOut:function(){this.animateTransitions&&(nav.animateContentOut(!0),nav.showLoadingState())},animateContentIn:function(){this.animateTransitions&&!nav.waitForAdditionalData&&($(".content").removeClass("opaque"),this.element.animate({opacity:1},nav.config.animationDuration),nav.hideLoadingState())},setFormResponse:function(e){if(e)return this.response=e,!0;if(this.response=this.iframe.contents(),this.response.find(nav.contentReference))return this.response={responseStatic:this.response.find("html").html(),resultCode:0},!0;this.response=this.iframe.contents().find("body"),this.response=this.response.find("pre")?this.response.find("pre").html():this.response.html();try{if(!this.response)throw"error";return this.response=$.parseJSON(this.response),!0}catch(t){return this.curForm.trigger("onError","There was a problem processing the server response. Please try again."),!1}},validateForm:function(e){return form_valid=0==$(".validate:not([validated=true])",e).length,form_valid&&($(".form-error").hide(),nav.resizeSections()),this.toggleForm(form_valid)},validateField:function(e,t,i){var a=$(e);return("radio"==e.type||"checkbox"==e.type)&&(a=$("[input[name="+e.name+"]:"+e.type)),a.attr("validated",t?!0:!1),i&&($(".form-error."+e.name).toggle(!t),nav.resizeSections()),this.validateForm(a.closest("form"))},validateInitialState:function(){$(".validate:not(:checkbox)",this.element).change();var e={},t=this;$('.validate[type="checkbox"]').each(function(){var t=$(this).attr("name");e[t]=(e[t]||0)+($(this).is(":checked")?1:0)}),$.each(e,function(e,i){t.validateField($("input[name="+e+'][type="checkbox"]:first'),i,!0)}),$(".form-error",this.element).hide(),nav.resizeSections()},toggleForm:function(e){return $(".submit",this.element).toggleClass("disabled",!e),e},initializeHiddenNavigation:function(){var e=nav.getURLParams(),t=navStorage.readVariable("form"+e.formID)||location.href,i=t.indexOf("?");i>-1&&$(t.slice(i+1).split("&")).each($.proxy(function(e,t){var i=t.split("=")[0],a=decodeURIComponent(t.split("=")[1].replace(/\+/g," ")),n=$("<input>").attr("type","hidden").attr("name",i).val(a).addClass("autoField");"formID"!=i&&0==$(":input[name="+i+"]:not(.autoField)").length&&$("form",this.element).prepend(n)},this))},initializeDefaultValues:function(){var e=nav.getURLParams(nav.getFormURL()),t=$('input[type="text"], textarea, select',this.element),i=$('input[type="checkbox"]',this.element),a=Array.prototype.slice.call(document.querySelectorAll('input[type="radio"]'));$.each(t,function(t,i){i.name in e&&$(i).val(e[i.name])}),$.each(i,function(t,i){i.name in e&&($.isArray(e[i.name])?$.inArray(i.value,e[i.name])>-1?$(i).attr("checked",!0):$(i).attr("checked",!1):i.value==e[i.name]?$(i).attr("checked",!0):$(i).attr("checked",!1))}),a.forEach(function(t){e.hasOwnProperty(t.name)&&e[t.name]===t.value&&(t.checked=!0)})},changePage:function(e){var t,i;return this.changeURL?nav.changePageURL(e):(i=nav.getURLParams(),i.formID=Math.floor(1e8*Math.random()),e+=(e.indexOf("?")<=0?"?":"&")+"formID="+i.formID,navStorage.saveVariable("form"+i.formID,e,nav.config.formStorageExpiration),t=location.pathname+"?"+$.param(i),location.pathname+location.search!=t&&nav.pushState(t),nav.changePage(e)),!1},onPageLoaded:function(e){e&&e(),this.settings.pageElement||this.element.dialog("option","height","auto"),this.animateContentIn(),this.initializeHiddenNavigation(),this.initializeDefaultValues(),$(".continue",this.element).click($.proxy(this.onNext,this)),$(".previous",this.element).click($.proxy(this.onPrevious,this)),$(".close",this.element).click($.proxy(this.onCustomClose,this)),$(".destroy",this.element).click($.proxy(this.onCustomDestroy,this)),$(".submit",this.element).click(function(){return $(this).closest("form").submit(),!1}),$("form",this.element).submit($.proxy(this.onFormSubmission,this)).bind("onError",$.proxy(this.onError,this))},onNext:function(e){this.animateContentOut();var t=$(e.target).attr("href");t?this.loadStep(t,!1):this.refresh(this.getNextPage())},onPrevious:function(e){this.animateContentOut();var t=$(e.target).attr("href");t?this.loadStep(t,!1):this.refresh(this.getPreviousPage())},onBack:function(e){if(nav.isAnimating)return!1;var t=this.getBackLink($(e.target).closest("a").attr("href"),"");return this.changePage(t)},getBackLink:function(e,t){var i=$(":hidden"+t,this.element).serialize();return i&&(e+=e.indexOf("?")>-1?"&":"?",e+=i),e},onCancel:function(e){return $(e.target).closest("a").attr("href")?!0:(nav.changePageURL($("li.subitem.selected a").attr("href")),!1)},onFormSubmission:function(e){return this.validateForm(e.target)?(window.scrollTo(0,0),this.animateContentOut(),this.curForm=$(e.target),this.curForm.attr("action")?this.processFormRequest(e):(this.response={resultCode:0},this.curForm.trigger("onSubmitFinished"),!1)):!1},processFormRequest:function(e){var t=this.curForm;return"get"==t.attr("method")?($.ajaxSetup({beforeSend:function(e){navStorage.readVariable("csrf")&&(e.setRequestHeader("csrf",navStorage.readVariable("csrf")),e.setRequestHeader("csrf_ts",navStorage.readVariable("csrf_ts")))}}),$.ajax({type:"POST",url:t.attr("action"),data:t.serialize(),success:$.proxy(function(e){this.setFormResponse(e)&&this.curForm.trigger("onSubmitFinished",arguments)},this)}).error($.proxy(this.onError,this)).complete(function(e){null!==e.getResponseHeader("csrf")&&null!==e.getResponseHeader("csrf_ts")&&(navStorage.saveVariable("csrf",e.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",e.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration))}),!1):(this.curForm.attr("target","wizardIframe"),this.iframe=$('<iframe name="wizardIframe">').hide().appendTo("body"),this.iframe.load($.proxy(function(){this.setFormResponse()&&this.curForm.trigger("onSubmitFinished",arguments)},this)).error($.proxy(this.onError,this)),!0)},onFormSubmitFinished:function(){var e,t;this.iframe&&this.iframe.remove(),e=this.response.successURL||this.curForm.attr("successURL")||this.settings.successURL,0!=this.response.resultCode?this.curForm.trigger("onError",this.response.userString):this.response.responseStatic?nav.onPageLoaded(this.response.responseStatic):e?(t=this.curForm.serialize(),t&&(e.indexOf("?")<=0&&(e+="?"),e+=t),this.changePage(e)):this.refresh()},onClose:function(){this.settings.preserveProgress||this.destroy()},onCustomClose:function(){this.element.dialog("close")},onCustomDestroy:function(){this.destroy()},destroy:function(){this.element&&this.element.dialog("destroy").remove(),this.element=!1,this.curForm=!1,this.curPageName=!1,this.curURL=!1},basicFormSubmission:function(e){return this.validateForm(e.target)?($(".submit",this.element).addClass("disabled"),nav.showLoadingState(),this.animateContentOut(),!0):!1},onFormDataLoaded:function(e){$(":input",this.element).each($.proxy(function(t,i){e[i.name]&&("text"==i.type||"hidden"==i.type||"select-one"==i.type?$(i).val(e[i.name]):i.value==e[i.name]&&$(i).attr("checked",!0))},this))},onError:function(e,t){this.animateContentIn(),this.response&&this.response.validationMessages&&($(".form-error",this.element).hide(),$(this.response.validationMessages).each(function(){$(".form-error."+this.validationKey,this.element).html(this.validationUserMessage).show()}),nav.resizeSections()),this.response&&this.response.validationMessages||(t=t&&"error"!=t?t.replace(/\\n/g,"<br/>"):$(".errorGenericMessage").html(),nav.popup(nav.config.popupWidth,"An error occurred.",t,"OK"))}}),function(e){window.surveyFormObject={init:function(){this.validateForm(),e(".continueButton").click(this.validateForm),e(".surveyForm").submit(function(){return!e(".continueButton").hasClass("disabled")}),e("select.required, :checkbox").change(function(){surveyFormObject.validateForm()})},textboxCheckboxToggle:function(e,t){jQuery("#"+t).prop("checked",e.value.length>0)},validateForm:function(t){if(e("[class*=required]").each(function(){surveyFormObject.validateField(e(this))}),e(".continueButton").toggleClass("disabled",e(".required:not(.validation-passed	)").length>0),t){var i=e(".surveyForm").closest(".x-panel");e.ajax({type:"POST",url:e(".surveyForm").attr("action"),data:e(".surveyForm").serialize(),success:function(t){e(i).html(t),e(i).scrollTop(0),e("#ext-gen21").scrollTop(0)}})}},validateField:function(t){var i=!1;t.is("ul")?t.hasClass("type-checkbox")||t.hasClass("type-radio")?i=t.find("input:checked").length>0:t.hasClass("type-textfield")?t.find("input[type='text']").each(function(){i=i||e(this).val().length>0}):console.log("Unable to find validation for required field: "+t.attr("id")):t.is("select")?i=t.children("option:selected").length>0&&t.children("option:selected").val().length>0:t.is("div")?t.find("[class*=type-]").each(function(){i=i||surveyFormObject.validateField(e(this))}):console.log("Unable to find validation for required field: "+t.attr("id")),t.toggleClass("validation-passed",i);var a=e("#error"+t.attr("id"));return a.length>0&&a.toggle(!i),i}}}(jQuery),jQuery(document).ready(function(e){surveyFormObject.init()}),window.navPortalObject=navObject.extend({getPage:function(e,t,i){return e=this._super(e),t||$(nav.config.actionPrefixes).each(function(t,i){e=e.replace(i+".action","List.action")}),e.indexOf(".action")>-1&&(!i||e.indexOf("?")<0)&&(e=e.substring(0,e.indexOf(".action")+7)),e},get_popup_content:function(e,t,i,a,n,s,o,r){var l='<div class="icon '+o+'"></div>';return l+="<h4>"+e+"</h4>",l+="<p>"+t+"</p>",(i||a)&&(l+='<div class="line"> </div>',l+='<div class="bottom-buttons">',a&&(l+='<a class="button small '+s+' cancel"><span>'+a+"</span></a>"),i&&(l+='<a href="'+(r?r:location.pathname)+'" class="button small '+n+' ok"><span>'+i+"</span></a>"),l+="</div>"),l},popup:function(e,t,i,a,n,s,o,r,l,d){var c,h;return r=r||"warning",c=this.get_popup_content(t,i,a,n,s,o,r,d),h=$("<div>").html(c).dialog({autoOpen:!0,modal:!l,width:e,height:"auto",draggable:!1,resizable:!1,closeOnEscape:!0,show:"fade",hide:"fade",dialogClass:"standard-dialog"}),h.find(".cancel, .ok").click(function(){return h.dialog("close"),!1}).mousedown(function(){$(this).addClass("click")}),h},mark_popup_as_loading:function(e){e.find(".ok").addClass("disabled"),e.find("p").css("text-align","center").html('<img src="/assets/developerportal/images/spinner.gif">')},tooltip:function(e,t,i){var a,n,s,o;$(e).click($.proxy(function(e){return $("#"+t).length>0?this.tooltip_remove(t):(n='<div class="top left corner"></div><div class="top edge"><div class="top right corner"></div></div><div class="left edge"></div><div class="tooltip-content"><div class="content-wrapper">',n+=i,n+='</div><div class="right edge"></div></div><div class="bottom left corner"></div><div class="bottom edge"><a class="close-button"></a><div class="bottom right corner"></div></div>',a=$('<div class="tooltip bottom-pointer" id="'+t+'" style="display: none;">').html(n),$("body").prepend(a),s=$(e.target).offset().left-a.width()/2+$(e.target).width()/2,o=$(e.target).offset().top-a.height(),$("#"+t).css("left",s).css("top",o).fadeIn(nav.config.animationDuration).find(".close-button").click($.proxy(function(e){this.tooltip_remove($(e.target).closest(".tooltip").attr("id"))},this))),!1},this))},tooltip_remove:function(e){$("#"+e).fadeOut(nav.config.animationDuration,function(){$(this).remove()})},submit_request:function(e,t,i,a,n){var s={type:"POST",url:e,data:i,success:$.proxy(function(e){return this.hideLoadingState(),0!=e.resultCode?(this.showError(!1,e.userString),!1):void(a?this.changePage(t,void 0,void 0,void 0,n):this.changePageURL(t))},this),complete:function(e){null!==e.getResponseHeader("csrf")&&null!==e.getResponseHeader("csrf_ts")&&(navStorage.saveVariable("csrf",e.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",e.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration))}};i&&(s.data=i),$.ajaxSetup({beforeSend:function(e){navStorage.readVariable("csrf")&&(e.setRequestHeader("csrf",navStorage.readVariable("csrf")),e.setRequestHeader("csrf_ts",navStorage.readVariable("csrf_ts")))}}),$.ajax(s)},show_delete_popup:function(e,t,i,a,n,s,o){var r,l="";return n=n||"Delete",l=$(e),r=this.popup(t,l.attr("title"),l.html(),n,"Cancel","red","","",void 0,a),s?(r.find(".cancel").click(function(){r.dialog("destroy"),nav.cancelRequest(s,!0)}),void r.find(".ok").click(function(){r.dialog("destroy"),s.unbind("change.showConfirmationMsg"),o&&o()})):(r.find(".ok").click($.proxy(function(e){var t=i.substr(i.indexOf("?")+1),n=e.currentTarget;return this.animateContentOut(),this.showLoadingState(),t&&(i=i.substr(0,i.indexOf("?"))),(!n.dataset.lockedAt||+new Date-n.dataset.lockedAt>300)&&this.submit_request(i,a,t,!0,e),n.dataset.lockedAt=+new Date,!1},this)),!1)},show_enable_popup:function(e,t,i,a,n){var s,o=$(e);return n=n||"Enable",s=this.popup(t,o.attr("title"),o.html(),n,"Cancel","blue"),s.find(".ok").click($.proxy(function(e){return this.animateContentOut(),this.showLoadingState(),this.submit_request(i,a,void 0,!0,e),!1},this)),!1},show_confirmation_popup:function(e,t,i,a,n,s,o,r){var l,d=$(e),n=n||"OK",r=r||"green";return l=this.popup(t,d.attr("title"),d.html(),n,"Cancel",r),s?(l.find(".cancel").click(function(){l.dialog("destroy")}),void l.find(".ok").click(function(){l.dialog("destroy"),o&&o()})):(l.find(".ok").click(function(e){return l.dialog("destroy"),nav.do_confirmation_request(i,a,!0,e)}),s&&l.find(".cancel").click(function(){return l.dialog("destroy"),nav.cancelRequest(s)}),!1)},do_confirmation_request:function(e,t,i,a){return this.animateContentOut(),this.showLoadingState(),window.scrollTo(0,0),this.submit_request(e,t,void 0,i,a),!1},cancelRequest:function(e,t){e&&(t?e.attr("checked",!0).change():e.attr("checked",!0))},requireCheckboxConfirmation:function(e){var t,i=e.data.yesValue||"yes",a=e.data.noValue||"no",n=e.data.width||nav.config.popupWidth,s=e.data.confirmation;return $(e.target).is(":checked")?(t=e.data.actionURL+i,s=e.data.enableConfirmation||s):(t=e.data.actionURL+a,s=e.data.disableConfirmation||s),e.data.domFields&&e.data.domFields.length&&e.data.domFields.each(function(){e.data.successURL=nav.getURLWithParam(e.data.successURL,this.name,$(this).val())}),s?nav.show_confirmation_popup(s,n,t,e.data.successURL):nav.do_confirmation_request(t,e.data.successURL)},getURLWithParam:function(e,t,i){var a=this.getURLParams(e);return a[t]=i,e.split("?").shift()+"?"+$.param(a)},updateAjaxDataSections:function(){$("li.subitem:visible .loadServerData").each(function(){var e=$(this);$.post(e.attr("href"),function(t){t=t[e.attr("data-field")],e.find(".data").html(t),e.toggle(parseInt(t)>0)},"json")})},download:function(e,t){var i=new XMLHttpRequest,a=function(e,t){var i=new FileReader;i.onloadend=function(){var e=i.result;t("data:attachment/file"+i.result.slice(e.search(/[,;]/)))},i.readAsDataURL(e)};i.open("POST",e.currentTarget.dataset.downloadlink,!0),i.responseType="arraybuffer",i.onload=function(){if(200===this.status){var e="",t=i.getResponseHeader("Content-Disposition");if(t&&-1!==t.indexOf("attachment")){var n=/filename[^;=\n]*=((['"]).*?\2|[^;\n]*)/,s=n.exec(t);null!=s&&s[1]&&(e=s[1].replace(/['"]/g,""))}var o=i.getResponseHeader("Content-Type"),r=new Blob([this.response],{type:o});if("undefined"!=typeof window.navigator.msSaveBlob)window.navigator.msSaveBlob(r,e);else{var l=window.URL||window.webkitURL,d=l.createObjectURL(r);if(e){var c=document.createElement("a");"undefined"==typeof c.download?a(r,function(e){window.location.href=e}):(c.href=d,c.download=e,document.body.appendChild(c),c.click())}else window.location=d;setTimeout(function(){l.revokeObjectURL(d)},100)}}},i.setRequestHeader("Content-type","application/x-www-form-urlencoded"),i.send($.param(t))}}),$.ajaxSetup({beforeSend:function(e){navStorage.readVariable("csrf")&&(e.setRequestHeader("csrf",navStorage.readVariable("csrf")),e.setRequestHeader("csrf_ts",navStorage.readVariable("csrf_ts")))}}),$(document).ajaxComplete(function(e,t){null!==t.getResponseHeader("csrf")&&null!==t.getResponseHeader("csrf_ts")&&(navStorage.saveVariable("csrf",t.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",t.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration))}),window.portalFormObject=formObject.extend({init:function(){this.initialize({pageElement:".innercontent"}),this.element.find('.validate[type="text"][value!=""]').change()},validateRequired:function(e,t){this.validateCustomFormat(e,/^(.+)*$/,t)},validateNoSpecial:function(e,t){var i=$.trim($(t.target).val()),a=!i.match(/[`\^;!\?“\[\]\{\}@\*\\&#%\+<=>\|¦~'$£\"]/);this.validateField(t.target,a,e)},validateAlphaNumeric:function(e,t){this.validateCustomFormat(e,/^([A-Za-z0-9]+)*$/,t)},validateAlphaNumericWithSpace:function(e,t){this.validateCustomFormat(e,/^[0-9A-Za-z\d\s]+$/,t)},validateIdentifier:function(e,t){this.validateCustomFormat(e,/^[A-Za-z0-9\.\-]+$/,t)},validateWildcardIdentifier:function(e,t){this.validateCustomFormat(e,/^(([A-Za-z0-9\.\-]+)*\*)?$/,t)},validateCustomFormat:function(e,t,i){var a=$.trim($(i.target).val()),n=a&&a.match(t);this.validateField(i.target,n,e)},validateNumChars:function(e,t){var i=$.trim($(t.target).val()),a=i.length>=t.data.min&&i.length<=t.data.max;this.validateField(t.target,a,e)},validateCheckboxes:function(e,t){var i=$("input[name="+t.target.name+"]:checked").length;return this.validateField(t.target,i,e),i},addTextFieldValidator:function(e,t){e[0].addEventListener("input",$.proxy(t,this,!0)),e.change($.proxy(t,this,!0))},changeFileUpload:function(e){var t=$(e.target).closest("div");t.find(".uploadPlaceholderText").removeAttr("aria-hidden").val(e.target.value.replace("C:\\fakepath\\","")),t.find(".uploadPlaceholderIcon").show()},onFormSubmitFinished:function(){"profileSubmit"===this.curForm[0].name||"profileEdit"===this.curForm[0].name?this.curForm.trigger("onError",this.response.userString):this._super()},selectAll:function(e){var t=$(e.target).attr("checked")?!0:!1,i=$(e.target).closest(".table").find(".rows :checkbox");i.attr("checked",t).eq(0).change()}}),window.portalGridObject=gridObject.extend({detailsAnimationDuration:200,itemIndex:"displayId",init:function(){nav.animateContentOut()},beforeSelectRow:function(e,t){return this.settings.allowSelections||this.toggleDetails(e),this._super(e,t)},beforeProcessing:function(e,t,i){var a=0;this._super(e,t,i),a=this.settings.total,$(".content-titlebar .search-tools div.text").html((a?a:0)+" match"+(a>1?"es":"")),this.data===!1&&(this.data=[])},onGridInitiallyRendered:function(){var e=this.settings.total;0===e||null===e?$(".gridList").hide():($(".gridCount").text(e),0>=e&&$(".content-toolbar .edit").addClass("disabled")),$(".content-titlebar .search-tools input").attr("disabled",!1),this.initializeToolbar(),$("#jqgh_grid-table_"+this.settings.sortname+" .ui-icon-asc").removeClass("ui-state-disabled"),nav.waitForAdditionalData=!1,nav.animateContentIn(),this._super()},onSortCol:function(e,t,i){this._super(e,t,i);var a="expirationDateString"===e?e.replace(/String/g,""):e,n=navStorage.readVariable("sortString"),s=n?n.indexOf(a+"%3D"):-1,o=n.substr(s+a.length+3,1);("a"===o||"d"===o)&&($("#jqgh_grid-table_"+e+" .ui-icon-"+("a"===o?"a":"de")+"sc").removeClass("ui-state-disabled"),$("#jqgh_grid-table_"+e+" .ui-icon-"+("a"===o?"de":"a")+"sc").addClass("ui-state-disabled"))},onSearch:function(e){13===e.keyCode&&(this._super(e),$(".content-titlebar .search-tools div.text").css("visibility","visible"))},detailsBlock:function(e){var t=$(".row-details-block").clone();return this.processDetailsBlock(t,e).html()},processDetailsBlock:function(e,t){for(variable in t)e.find(".data."+variable).text(t[variable]);return t.canEdit===!1&&(e.find(".edit-button:not(.disabled)").addClass("disabled"),e.find(".edit-button").attr("href","#")),t.canDelete===!1&&(e.find(".remove-button:not(.disabled)").addClass("disabled"),e.find(".remove-button").attr("href","#")),e},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e,this.listUrl)},toggleDetails:function(e){var t=this.data[e-1],i=t[this.itemIndex];$("tr#"+e).hasClass("expanded")?this.hideDetailsSection(e,t):this.showDetailsSection(e,t,i)},hideDetailsSection:function(e,t){$("tr#"+e).removeClass("expanded").next("tr").find(".row-details").slideUp(this.detailsAnimationDuration,function(){nav.resizeSections(),$(this).remove()})},showDetailsSection:function(e,t,i){var a=function(){var t=$("tr#"+e).next().find('[role="gridcell"]');t.attr("tabindex",1),t.focus()};$("tr.expanded").removeClass("expanded"),$("tr .row-details").slideUp(this.detailsAnimationDuration,function(){$(this).remove()}),$("tr#"+e).addClass("expanded"),0==$("tr#"+e).next("tr").find(".row-details").length&&$("tr#"+e).after('<tr role="row"><td colspan="'+$(".ui-jqgrid-labels th:visible").length+'" role="gridcell">'+this.detailsBlock(t)+"</tr></td>");var n=$("tr#"+e).next("tr").find(".row-details").slideDown(this.detailsAnimationDuration,function(){nav.resizeSections(),nav.prepareRetina(),a()}),s=n[0].querySelector(".edit-button");return s&&(s.dataset.displayid=i),n.find(".enable-button:not(.disabled)").click($.proxy(function(e){var t=$(e.target).closest("a");return this.showEnableConfirmationMessage(t.attr("href")+i)},this)),n.find(".remove-button:not(.disabled)").click($.proxy(function(e){var t=$(e.target).closest("a");try{this.showDeleteConfirmationMessage(t.attr("href")+i)}catch(a){console.log(a)}return!1},this)),n},initializeToolbar:function(){location.href.indexOf("?tab=edit")>-1?$(".content-toolbar .edit").click():location.href.indexOf("?tab=search")>-1&&$(".content-toolbar .search").click()}}),window.deviceCompleteFormObject=portalFormObject.extend({init:function(){this._super()},onPageLoaded:function(e){this._super(e),this.displayDevices()},displayDevices:function(){const e=document.querySelector("#failure-devices"),t=document.querySelector("#success-devices");var i=navStorage.readVariable("deviceList"),a=navStorage.readVariable("failedDeviceList"),n=[],s=$(".devices.completeForm").hasClass("ios"),o="";a&&(a.forEach(function(e){o+="<li><dl>",o+="<dt>"+(s?"UDID":"UUID")+":</dt>",o+="<dd>"+e+"</dd>",o+="</dl></li>"}),e.querySelector("ul").innerHTML=o,a.length>0?e.classList.remove("hide"):e.classList.add("hide")),o="",i.forEach(function(e){var t=e.deviceClass.toLowerCase();o+="<li><dl>",o+="<dt>Name:</dt>",o+="<dd>"+e.name+"</dd>",e.model&&(o+="<dt>Model:</dt>",o+="<dd>"+e.model+"</dd>"),o+=s?"<dt>UDID:</dt>":"<dt>UUID:</dt>",o+="<dd>"+e.deviceNumber+"</dd>",o+="</dl></li>","tvos"===t&&(t="pc"),-1===$.inArray(t,n)&&n.push(t)}),t.querySelector("ul").innerHTML=o,i.length>0?t.classList.remove("hide"):t.classList.add("hide")}}),window.deviceConfirmFormObject=portalFormObject.extend({modifiedClasses:[],init:function(){this._super()},onPageLoaded:function(e){this._super(e),this.displayDevices(),$(".devices.confirmForm").hasClass("ios")&&(navStorage.readVariable("deviceBenefits")?this.displayDevicesBenefits():this.getDeviceBenefits())},onFormSubmitFinished:function(){return this.response&&0!==this.response.resultCode?void nav.showError(!1,this.response.userString,void 0,this.response.resultString):(this.response&&this.response.devices&&(navStorage.saveVariable("deviceList",this.response.devices),navStorage.saveVariable("failedDeviceList",this.response.failedDevices)),void this._super())},displayDevices:function(){const e=document.querySelector("#failure-devices"),t=document.querySelector("#success-devices");var i=navStorage.readVariable("deviceList"),a=navStorage.readVariable("failedDeviceList"),n=[],s=$(".devices.confirmForm").hasClass("ios"),o="",r=[],l=[],d=[];a&&(a.forEach(function(e){o+="<li><dl>",o+="<dt>"+(s?"UDID":"UUID")+":</dt>",o+="<dd>"+$("<div/>").text(e).html()+"</dd>",o+="</dl></li>"}),e.querySelector("ul").innerHTML=o,a.length>0?e.classList.remove("hide"):e.classList.add("hide")),o="",i.forEach(function(e){var t=e.deviceClass.toLowerCase();o+="<li><dl>",o+="<dt>Name:</dt>",o+="<dd>"+$("<div/>").text(e.name).html()+"</dd>",e.model&&(o+="<dt>Model:</dt>",o+="<dd>"+$("<div/>").text(e.model).html()+"</dd>"),o+=s?"<dt>UDID:</dt>":"<dt>UUID:</dt>",o+="<dd>"+$("<div/>").text(e.deviceNumber).html()+"</dd>",o+="</dl></li>","tvos"===t&&(t="pc"),-1===$.inArray(t,n)&&n.push(t),r.push(e.deviceNumber),l.push(e.name),d.push(e.deviceClass)}),t.querySelector("ul").innerHTML=o,i.length>0?(document.querySelector(".submit").classList.remove("disabled"),t.classList.remove("hide")):t.classList.add("hide"),this.modifiedClasses=n,$('[name="deviceNumbers"]').val(r.join(",")),$('[name="deviceNames"]').val(l.join(",")),$('[name="deviceClasses"]').val(d.join(","))},displayDevicesBenefits:function(){var e=navStorage.readVariable("deviceBenefits"),t=this.modifiedClasses,i=[],a="single"===$('[name="register"]').val(),n=$("#availableDevices"),s=$("#maxDevices ul"),o="",r="You have the following number of devices available for registration:<ul>",l="";""==n.html()&&(e&&e.forEach(function(e){switch($.inArray(e.deviceClass.toLowerCase(),t)>-1&&i.push(e),e.deviceClass){case"PC":o="Apple TV";break;case"WATCH":o="Apple Watch";break;case"IPAD":o="iPad";break;case"IPHONE":o="iPhone";break;default:o="iPod Touch"}r+="<li>"+o+": "+e.availableQuantity+"</li>",l+="<li>"+o+": "+e.maxQuantity+"</li>"}),a&&1===i.length?r="You can register "+i[0].availableQuantity+" more of this device type.":r+="</ul>",n.html(r),s.html(l))},getDeviceBenefits:function(){$.ajax({type:"POST",url:deviceDataURL,success:$.proxy(function(e){navStorage.saveVariable("deviceBenefits",e.deviceBenefits),this.displayDevicesBenefits()},this)})}}),window.deviceCreateFormObject=portalFormObject.extend({init:function(){var e=$("input[name=deviceNames]",this.element);e.get(0).focus(),this.addTextFieldValidator(e,this.validateRequired),this.addTextFieldValidator($("input[name=deviceNumbers]",this.element),this.validateDeviceNumber),$("input.file-input").change($.proxy(this.changeFileUpload,this)).change($.proxy(this.validateFileFormat,this,!0)),$("li",this.element).click($.proxy(this.triggerQuantityChange,this)),$("input[name=register]").change($.proxy(this.changeQuantity,this)),$(".submit",this.element).click($.proxy(this.clickSubmit,this)),$("form[name=deviceImport]").unbind("submit"),this._super()},validateDeviceNumber:function(e,t){$(".devices.createForm").hasClass("ios")?this.validateCustomFormat(e,/^([-A-Fa-f0-9]{40})*$/,t):this.validateCustomFormat(e,/^([-A-Fa-f0-9]{36})*$/,t)},validateFileFormat:function(e,t){this.validateCustomFormat(e,/^.*\.(txt|TXT|deviceids)$/,t)},clickSubmit:function(e){"multiple"==$("input[name=register]:checked").val()?$("form[name=deviceImport]").submit():$("form[name=deviceSave]").submit()},triggerQuantityChange:function(e){var t=$(e.target).closest("li").find(":radio");return t.attr("checked")||($(":radio",this.element).attr("checked",!1),t.attr("checked",!0).change()),!0},changeQuantity:function(e){this.toggleForm(!1),$(".validate",this.element).attr("validated",!1),$(".form-error").hide(),"multiple"==$(e.target).val()?($("input:radio[value=single]").attr("checked",!1),$(".text-input").val("").attr("disabled",!0),$(".file-upload-frame a").removeClass("disabled"),$(".file-upload-frame input.file-input").attr("disabled",!1),navStorage.saveVariable("deviceRegister","multiple")):($("input:radio[value=multiple]").attr("checked",!1),$(".text-input").attr("disabled",!1),$(".file-upload-frame input").attr("disabled",!0).val(""),$(".file-upload-frame a").addClass("disabled"),$(".file-upload-frame .paper-icon").hide(),navStorage.saveVariable("deviceRegister","single"))},initializeDefaultValues:function(){"multiple"!==navStorage.readVariable("deviceRegister")&&this._super()},changeFileUpload:function(e){this._super(e);var t=$("input[name=upload]")[0].files[0],i=new FileReader,a="",n="",s=e.target.form;return-1===t.name.indexOf(".txt")&&-1===t.name.indexOf(".deviceids")?void nav.showError(!1,"We are unable to process this Device ID file due to a file extension error. The expected extensions are '.deviceids' and '.txt' Please check the file and try again.",void 0,"There were errors in data supplied. Please correct and re-submit."):(i.onload=function(e){var o=i.result.split(/[\r\n]+/g),r=2,l=4;return o.forEach(function(e,i){t.name.indexOf(".txt")>-1&&0!==i?(n+=(i>1?",":"")+e.slice(0,e.search(/\s/)),a+=(i>1?",":"")+e.slice(e.search(/\s/),e.length).trimLeft()):i>=8&&i===r+6&&!e.match("</plist>")?(r=i,n+=(i>8?",":"")+e.split("<string>").pop().split("</string>").shift()):i>=10&&i===l+6&&(l=i,a+=(i>10?",":"")+e.split("<string>").pop().split("</string>").shift())}),","===a.slice(-1)&&(a=a.slice(0,-1)),","===n.slice(-1)&&(n=n.slice(0,-1)),""!==a&&""!==n&&a.split(",").length===n.split(",").length&&a.split(",").every(function(e){return""!==e})&&n.split(",").every(function(e){return""!==e})?(s.deviceNames.value=a,
void(s.deviceNumbers.value=n)):void nav.showError(!1,"We are unable to process this file due to invalid data. Please check the file and try again.",void 0,"There were errors in data supplied. Please correct and re-submit.")},void i.readAsBinaryString(t))},onFormSubmitFinished:function(){return this.response&&0!==this.response.resultCode?void nav.showError(!1,this.response.userString,void 0,this.response.resultString):(this.response&&this.response.devices&&(navStorage.saveVariable("deviceList",this.response.devices),navStorage.saveVariable("failedDeviceList",this.response.failedDevices),this.response.devices.length>0&&$('input[name="deviceClasses"]').val(this.response.devices[0].deviceClass)),void this._super())}}),window.deviceEditFormObject=portalFormObject.extend({init:function(){this._super(),$("input[name=name]",this.element).get(0).focus(),this.addTextFieldValidator($("input[name=name]",this.element),this.validateRequired),$(".button.small.delete").click($.proxy(this.showDeleteConfirmationMessage,this)),this.validateInitialState()},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e.target.parentElement.href,this.listUrl,disable)}}),window.deviceListGridObject=portalGridObject.extend({isAdmin:!1,init:function(e){var t=Object.assign({},{gridSection:"#grid-table",url:deviceDataURL,sortname:"status",dataArrayField:"devices",dataIndexField:"deviceId",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"status",name:"status",width:200,hidden:!0},{title:"Identifier",name:"deviceNumber",width:200}]},e||{}),i={tvOS:"Apple TV",watch:"Apple Watch",ipad:"iPad",iphone:"iPhone",ipod:"iPod Touch"};this._super(),this.itemIndex="deviceId",this.listUrl=document.location.pathname,-1===location.search.indexOf("deviceClasses")||($(".toolbar-heading-all")[0].innerHTML=i[location.search.split("deviceClasses=").pop()]),this.initialize(t)},onGridUpdated:function(){if(!this.data||0===this.data.length)return void $(".content-noticebar").hide();var e=!1,t=document.querySelector(".toolbar-button.edit");this._super(),this.data.forEach(function(e,t){$("#grid-table tr#"+(t+1))[0]&&"r"===e.status&&($("#grid-table_cb:visible").length>0?$("#grid-table tr#"+(t+1)).hide():$("#grid-table tr#"+(t+1))[0].classList.add("greyedRow"))}),$("#grid-table_cb:visible").length>0&&$(".ui-jqgrid-bdiv>div").css("height","auto"),e=this.data.every(function(e){return"r"===e.status}),t&&(e?t.classList.add("disabled"):this.isAdmin&&t.classList.remove("disabled"))},beforeProcessing:function(e,t,i){var a=($(".toolbar-button.add"),location.pathname.split("/").filter(function(e){return""!==e})[3]),n=0,s=0,o=[];"tvOS"===a&&(a="pc"),e&&e.deviceBenefits&&(navStorage.saveVariable("activeList",e.devices),this.isAdmin=e.isAdmin,o=e.deviceBenefits,navStorage.saveVariable("deviceBenefits",e.deviceBenefits),1===o.length?(n=o[0].availableQuantity,s=o[0].maxQuantity):o.every(function(e){return e.deviceClass.toLowerCase()===a?(n=e.availableQuantity,s=e.maxQuantity,!1):!0}),$("#available-quantity").html(n),$("#max-quantity").html(s)),this._super(e,t,i)},getSelectedItems:function(){return $(this.selectedItems).each($.proxy(function(e,t){"r"===this.getDataItemForRow(t).status&&this.removeItem(t)},this)),this._super()},getSelectedItemsObj:function(){return $(this.selectedItems).each($.proxy(function(e,t){"r"===this.getDataItemForRow(t).status&&this.removeItem(t)},this)),this._super()},getSelectedItemsObj:function(){var e=[];return $(this.selectedItems).each($.proxy(function(t,i){var a=this.getDataItemForRow(i);"r"!==a.status&&e.push(a)},this)),e},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e,this.listUrl,"Disable")},showEnableConfirmationMessage:function(e){return nav.show_enable_popup(".enablingConfirmationMessage",nav.config.popupWidth,e,this.listUrl)},processDetailsBlock:function(e,t){return this.detailsDiv=this._super(e,t),this.item=t,this.setUpdateButton("remove-button"),this.setIcon(),this.hideModel(),this.detailsDiv},setIcon:function(){var e=this.item.deviceClass?this.item.deviceClass:"type";this.detailsDiv.find(".icon").addClass(e)},hideModel:function(){var e=this.detailsDiv.find(".modelInfo");$("div.devices").hasClass("ios")&&!this.item.model&&e.hide()},setUpdateButton:function(e){var t=this.detailsDiv.find("a.remove-button:first");this.updateButton(t,this.item.status,e)},updateButton:function(e,t,i){if("r"==t){var a=e.attr("href").replace(/deleteDevice/,"enableDevice");e.html("<span>Enable</span>").removeAttr("href").removeClass("remove-button").addClass("enable-button").attr("href",a+"&deviceNumber="+this.item.deviceNumber+"&displayId=")}else e.html("<span>Disable</span>")}}),window.profileListGridObject=portalGridObject.extend({init:function(e){this._super(),this.listUrl=document.location.pathname,this.itemIndex="provisioningProfileId";var t=Object.assign({},{gridSection:"#grid-table",url:profileDataURL,sortname:"name",dataArrayField:"provisioningProfiles",dataIndexField:"provisioningProfileId",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"Type",name:"type"},{title:"Status",name:"status",formatter:$.proxy(this.formatStatus,this)},{title:"AppId",hidden:!0,name:"appId"}]},e||{});this.initialize(t)},formatStatus:function(e,t){var i="";return t&&(i=this.getDataItemForRow(t.rowId).managingApp),this.formatStatusWithManagingApp(e,i)},formatStatusWithManagingApp:function(e,t){var i;switch(e){case"Active":icon="green";break;case"Expired":icon="stop";break;case"Invalid":icon="error";break;case"Error":icon="error";break;default:icon="warning"}return i='<div class="status-icon '+icon+'">'+e,null!=t&&t.length>0&&(i+=" <span>(Managed by "+t+")</span>"),i+="</div>"},formatApp:function(e,t){return"<div>"+e+" ("+t+")</div>"},formatAppId:function(e,t){var i,a="<div>"+e+"</div>";return t&&(i=this.getDataItemForRow(t.rowId).appId.identifier,a=this.formatApp(e,i)),a},formatListLength:function(e){return"<div>"+e+" total</div>"},formatEnabledFeatures:function(e){var t=navStorage.readVariable("appservice"),i="None",a=[];return e.forEach(function(e){var i="";e=e.replace(/passbook/,"pass"),e=e.replace(/dataProtection/,"dataProtectionPermission"),i=t.find(function(t){return t.id===e}),void 0!==i&&a.push(i)}),a.length>0&&("tvOS"===this.item.proProSubPlatform&&(a=a.filter(function(e){return"SI015DKUHP"!=e.id})),i=a.map(function(e){return e.name}).join(", ")),"<div>"+i+"</div>"},processDetailsBlock:function(e,t){var i=profileDataURL.replace(/listProvisioningProfiles/g,"getProvisioningProfile");return i=i.replace(/onlyCountLists=true/g,"onlyCountLists=false"),this.detailsDiv=this._super(e,t),this.detailsDiv.find(".validButtons").hide(),$.post(i,"provisioningProfileId="+t.provisioningProfileId,$.proxy(function(e,t,i){var a=this.detailsDiv.find(".edit-button"),n=this.detailsDiv.find(".download-button");null!==i.getResponseHeader("csrf")&&null!==i.getResponseHeader("csrf_ts")&&(navStorage.saveVariable("csrf",i.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",i.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration)),this.item=e.provisioningProfile,this.detailsDiv.find(".data.appId").html(this.formatApp(this.item.appId.name,this.item.appId.identifier)),this.detailsDiv.find(".data.appId")[0].dataset.appid=this.item.appId.appIdId,this.detailsDiv.find(".data.enabledFeaturesList")[0].dataset.template=this.item.template&&this.item.template.purposeName,this.detailsDiv.find(".data.certificateCount").html(this.formatListLength(this.item.certificateIds.length)),this.detailsDiv.find(".data.deviceCount").html(this.formatListLength(this.item.deviceIds.length)),this.detailsDiv.find(".data.certificateCount")[0].dataset.certificateids=this.item.certificateIds,this.detailsDiv.find(".data.deviceCount")[0].dataset.deviceids=this.item.deviceIds,this.detailsDiv.find(".data.type")[0].dataset.type=this.item.distributionType,this.detailsDiv.find(".data.type")[0].dataset.subplatform=this.item.proProSubPlatform?this.item.proProSubPlatform:null,this.detailsDiv.find(".data.enabledFeaturesList").html(this.formatEnabledFeatures(this.item.appId.enabledFeatures)),this.detailsDiv.find(".data.dateExpire").html(this.formatDate(this.item.dateExpire));const s="mac"===this.item.proProPlatform&&"direct"===this.item.distributionType,o=this.detailsDiv.find(".data.dateExpire"),r=o.prev();s&&(o.css("padding-top","21px"),r.html("Available for Download Until:")),this.detailsDiv.find(".data.status").html(this.formatStatusWithManagingApp(this.item.status,this.item.managingApp)),"Invalid"==this.item.status||"Error"==this.item.status||"Pending"==this.item.status||"In Process"==this.item.status?(this.detailsDiv.find(".validButtons").hide(),this.detailsDiv.find(".invalidButtons").show()):"Expired"==this.item.status?(this.detailsDiv.find(".validButtons").hide(),this.detailsDiv.find(".expiredButtons").show()):this.detailsDiv.find(".validButtons").show();var l=navStorage.readVariable("createPermission"),d="Xcode"!==this.item.managingApp&&Object.keys(l).some(function(e){return Object.keys(l[e]).some(function(t){return t===this.item.distributionType&&l[e][t].enabled},this)},this);d?(a.css("pointer-events","auto"),a.css("opacity",1)):(a.addClass("disabled"),a.removeAttr("href"),a.unbind("click"));var c=this.item.provisioningProfileId;this.detailsDiv.find(".download-button:not(.disabled)").click(function(){return document.location=this.href+"&provisioningProfileId="+c,!1}),"Active"!==this.item.status?(n.addClass("disabled"),n.removeAttr("href"),n.unbind("click")):(n.css("pointer-events","auto"),n.css("opacity",1))},this)),this.detailsDiv},showDetailsSection:function(e,t,i){var a=this._super(e,t,i);return this.detailsDiv=$("tr#"+e).next(),a}}),window.applicationGroupListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(applicationGroupDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="applicationGroup",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:applicationGroupDataURL,sortname:"name",dataArrayField:"applicationGroupList",dataIndexField:"applicationGroup",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)},onGridInitiallyRendered:function(){this._super();var e=this.settings.total;e>=1e3&&$(".toolbar-button.add").addClass("disabled")}}),window.cloudContainerListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(cloudContainerDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="cloudContainer",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:cloudContainerDataURL,sortname:"name",dataArrayField:"cloudContainerList",dataIndexField:"cloudContainer",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)},onGridInitiallyRendered:function(){this._super();var e=this.settings.total,t=$(".object-type").text();1!==e&&t.lastIndexOf("s")!=t.length-1&&$(".object-type").text(t+"s")},searchIcon:function(e){$(".content-titlebar .dashboardLink").slideUp(this.detailsAnimationDuration),$(".content-titlebar .search-tools .cancel-button").click(function(e){$(".content-titlebar .dashboardLink").slideDown(this.detailsAnimationDuration)}),this._super(e)}}),window.bundleListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(bundleDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="appIdId",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:bundleDataURL,sortname:"name",dataArrayField:"appIds",dataIndexField:"appIdId",allowSelections:!1,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"Prefix",name:"prefix",classes:"ui-ellipsis bold",hidden:!0},{title:"ID",name:"identifier",width:200}],gridHeight:920},e||{});this.initialize(i)},processDetailsBlock:function(e,t){var i=bundleDataURL.replace(/listAppIds/g,"getAppIdDetail");return this.detailsDiv=this._super(e,t),$.post(i,"appIdId="+t.appIdId,$.proxy(function(e,t,i){null!==i.getResponseHeader("csrf")&&null!==i.getResponseHeader("csrf_ts")&&(navStorage.saveVariable("csrf",i.getResponseHeader("csrf"),nav.config.formStorageExpiration),navStorage.saveVariable("csrf_ts",i.getResponseHeader("csrf_ts"),nav.config.formStorageExpiration)),this.item=e.appId,navStorage.saveVariable("appIdDetail",e.appId),navStorage.readVariable("appservice").forEach(function(e){switch(e.id){case"push":this.setPushColumnContent("push");break;case"pass":this.setDetailsColumnContent("passbook");break;case"dataProtectionPermission":this.setDetailsColumnContent("dataProtection");break;case"iCloud":this.setDetailsColumnContent("iCloud",2===this.item.features.cloudKitVersion?this.item.associatedCloudContainersCount:null);break;case"APG3427HIY":this.setDetailsColumnContent("APG3427HIY",this.item.associatedApplicationGroupsCount);break;case"OM633U5T5G":this.setDetailsColumnContent("OM633U5T5G",this.item.associatedIdentifiersCount);break;default:this.setDetailsColumnContent(e.id)}},this)},this)),this.detailsDiv},setDetailsColumnContent:function(e,t){var i=this.detailsDiv.find("tr."+e+" td.development, tr."+e+" td.production");this.updateColumn(i,this.item.features,e,t)},setPushColumnContent:function(e){var t;t=this.detailsDiv.find("tr."+e+" td.development"),this.updatePushColumn(t,this.item.isDevPushEnabled,this.item.features.push),t=this.detailsDiv.find("tr."+e+" td.production"),this.updatePushColumn(t,this.item.isProdPushEnabled,this.item.features.push)},updatePushColumn:function(e,t,i){i?t?e.addClass("enabled").html("Enabled"):e.addClass("partial").html("Configurable"):e.addClass("disabled").html("Disabled")},updateColumn:function(e,t,i,a){t[i]&&void 0!=a&&0==a?e.addClass("partial").html("Configurable"):t[i]?e.addClass("enabled").html("Enabled"):e.addClass("disabled").html("Disabled")},showDetailsSection:function(e,t,i){var a=this._super(e,t,i);return this.detailsDiv=$("tr#"+e).next(),a},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e,this.listUrl,"Delete")}}),window.musicIdListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(musicIdDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="musicId",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:musicIdDataURL,sortname:"name",dataArrayField:"musicIdList",dataIndexField:"musicId",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)}}),window.omcListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(omcDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="omcId",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:omcDataURL,sortname:"name",dataArrayField:"identifierList",dataIndexField:"identifier",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)},processDetailsBlock:function(e,t){const i=merchantDataURL.replace(/listOMCs/g,"getOMC").replace(/.action/g,"");var a=this._super(e,t);return $.post(i,"omcId="+t.omcId,$.proxy(function(e,t,i){const a=document.querySelector("tr.expanded+tr .remove-button");a&&e.omcId.canDelete&&a.classList.remove("css-disabled")},this)),a},searchIcon:function(e){$(".content-titlebar .dashboardLink").slideUp(this.detailsAnimationDuration),$(".content-titlebar .search-tools .cancel-button").click(function(e){$(".content-titlebar .dashboardLink").slideDown(this.detailsAnimationDuration)}),this._super(e)},showDetailsSection:function(e,t,i){var a=this._super(e,t,i),n=Object.keys(t).some(function(e){return e.startsWith("isP")}),s=a[0].querySelector(".edit-button");return s&&n&&(s.dataset.allowCert=!1),a}}),window.passTypeIdEditFormObject=portalFormObject.extend({init:function(){this._super(),$(".revoke-button").click($.proxy(this.showDeleteConfirmationMessage,this))},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".revokeConfirmationMessage",nav.config.popupWidth,e.target.parentElement.href,passTypeIdListUrl)}}),window.passTypeIdListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(passTypeIdDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="passTypeId",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:passTypeIdDataURL,sortname:"name",dataArrayField:"passTypeIdList",dataIndexField:"passTypeId",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e,this.listUrl,"Delete")}}),window.websitePushIdEditFormObject=portalFormObject.extend({init:function(){var e;this._super(),$(".revoke-button").click($.proxy(function(t){var i="SPAN"==t.target.tagName?$(t.target).parent():$(t.target);return i.hasClass("disabled")||(e=i.attr("href"),nav.show_delete_popup(".revokeConfirmationMessage",nav.config.popupWidth,e,websitePushIdEditUrl,"Revoke")),!1},this))},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".revokeConfirmationMessage",nav.config.popupWidth,e.target.parentElement.href,websitePushIdListUrl)}}),window.websitePushIdListGridObject=portalGridObject.extend({init:function(e){var t=window.nav.getURLParam("type");t&&(passTypeIdDataURL+="&type="+t,$(".content-toolbar .toolbar-heading-all").hide(),$(".content-toolbar .toolbar-heading-"+t).show()),this._super(),this.itemIndex="websitePushId",this.listUrl=document.location.pathname;var i=Object.assign({},{gridSection:"#grid-table",url:websitePushIdDataURL,sortname:"name",dataArrayField:"websitePushIdList",dataIndexField:"websitePushId",allowSelections:!1,autoencode:!0,colModel:[{title:"Name",name:"name",classes:"ui-ellipsis bold"},{title:"ID",name:"identifier",width:200}]},e||{});this.initialize(i)},showDeleteConfirmationMessage:function(e){return nav.show_delete_popup(".removeConfirmationMessage",nav.config.popupWidth,e,this.listUrl,"Delete")}});